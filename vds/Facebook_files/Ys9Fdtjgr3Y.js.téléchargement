;/*FB_PKG_DELIM*/

__d("LSOptimisticDeleteThread",["LSDeleteThread","LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSDeleteThread"),a[0],!1)},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=[0,1],d[0]=d[6])})},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=!1:(b=a.item,d[2]=b.errorShouldBeShown)})},function(a){return d[2]===!0?c.seq([function(a){return c.localizeV2Async([0,2285622730],f).then(function(a){return d[6]=a})},function(a){return c.localizeV2Async([0,1919524925],f).then(function(a){return d[7]=a})},function(a){return c.sp(b("LSIssueNewError"),f,[0,1545093],d[6],d[7],f)}]):c.resolve()},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),"delete_thread_v2",[0,86],d[5],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MWChatContactsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5607101192751125"}),null);
__d("MWChatContactsQuery.graphql",["MWChatContactsQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"numContactsToFetch"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"count",variableName:"numContactsToFetch"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatContactsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[d,{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[e]}],type:"User",abstractKey:null},{args:[{kind:"Literal",name:"enableMsys",value:!1}],kind:"FragmentSpread",name:"MWChatContact_profile"}],storageKey:null},f],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatContactsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{kind:"TypeDiscriminator",abstractKey:"__isProfile"},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]},{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[d,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[d,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"story_bucket(first:1)"},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"User",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},f],storageKey:null}]},params:{id:b("MWChatContactsQuery_facebookRelayOperation"),metadata:{},name:"MWChatContactsQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometMessagingJewelDropdownQPBannerContainer.entrypoint",["CometMessagingJewelCommunitiesQPBannerContainerQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{bannerQueryRef:{parameters:c("CometMessagingJewelCommunitiesQPBannerContainerQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("CometMessagingJewelCommunitiesQPBannerContainerPassthrough.react").__setRef("CometMessagingJewelDropdownQPBannerContainer.entrypoint")};g["default"]=a}),98);
__d("MWRestrictedAccountsListIcons.bs",["cr:10560"],(function(a,b,c,d,e,f,g){"use strict";g.$MDSRestrictedAccountsListIcons$OR$TetraRestrictedAccountsListIcons$requireCond=b("cr:10560"),g.Plus=b("cr:10560").Plus}),98);
__d("MWRestrictedAccountsList.bs",["fbt","CometLazyDialogTrigger.react","CometLink.react","CometProfilePhoto.react","CometScrollView.react","CometTopNavListDropdown.react","JSResourceForInteraction","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSMediaUrl.bs","LsSystemFolder.bs","MDSListCell.react","MDSTextPairing.react","MWAddOnCircleContainer.react","MWChatOpenTabForUser.bs","MWIcon.react","MWInboxRestrictedAccountsRouteBuilder.bs","MWInboxRouteBuilder.bs","MWLSJewelLoadMoreThreads.bs","MWRestrictedAccountsListIcons.bs","MWText.react","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml_obj","bs_curry","bs_int64","gkx","react","useCometRouterDispatcher","useReStore","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("gkx")("1950")||c("gkx")("7681")?{buildURL:d("MWInboxRestrictedAccountsRouteBuilder.bs").buildURL}:{buildURL:d("MWInboxRouteBuilder.bs").buildURL};function a(a){var b=a.hidePage,e=a.onClose,f=a.selectedThreadKey,g=c("useReStore")(),k=c("useCometRouterDispatcher")(),l=d("MWLSJewelLoadMoreThreads.bs").useHook(d("LsSystemFolder.bs").restricted),m=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT");a=d("MWChatOpenTabForUser.bs").useHook(void 0,"inboxRestricted");var n=a[0];i.useEffect(function(){l()},[]);a=d("ReQLSubscription.bs").useArray(i.useMemo(function(){return d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(g.table("contacts")),function(a){return c("bs_belt_Option").getWithDefault(d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").restrictPlaced,a),!1)})},[g]));var o=h._("__JHASH__XwrGXRjtVxi__JHASH__"),p=h._("__JHASH__RkSfcqgblez__JHASH__",[h._param("=Learn how it works",i.jsx(c("CometLink.react"),{href:"https://www.facebook.com/help/messenger-app/1021314848608781",children:i.jsx(c("MWText.react"),{color:"primary",type:"bodyLink4",children:h._("__JHASH__lTWOA7Lmc04__JHASH__")})}))]),q=h._("__JHASH__9yvHPV04Ncn__JHASH__");return i.jsxs(c("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[b!==void 0?i.jsx(c("CometTopNavListDropdown.react").Title,{actions:[],onReturn:b,title:o}):i.jsx(c("CometTopNavListDropdown.react").Title,{actions:[],title:o}),i.jsx("div",{className:"x1k70j0n x11i5rnm xzueoph x1mh8g0r xz9dl7a x14uny0o xsag5q8 xvpee5o",children:i.jsx(c("MWText.react"),{color:"secondary",type:"body4",children:p})}),i.jsxs("ul",{className:"xurb0ha x1sxyh0",children:[i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{onClose:e},dialogResource:c("JSResourceForInteraction")("MWRestrictedAccountsListAddRestricteeDialog",{"class":"fluid",name:"MWRestrictedAccountsListAddRestricteeDialog"}).__setRef("MWRestrictedAccountsList.bs"),children:function(a){return i.jsx(c("MDSListCell.react"),{addOnStart:i.jsx(c("MWAddOnCircleContainer.react"),{size:40,children:i.jsx(c("MWIcon.react"),{icon:c("bs_curry")._1(d("MWRestrictedAccountsListIcons.bs").Plus.toMWIcon)})}),content:i.jsx(c("MDSTextPairing.react"),{headline:q,headlineLineLimit:1,level:4}),onPress:function(b){return c("bs_curry")._1(a)},size:"medium",testid:void 0})}}),a.map(function(a){var b=a.secondaryName,g=a.name!==a.secondaryName;return i.jsx("li",{children:i.jsx(c("MDSListCell.react"),{addOnStart:i.jsx(c("CometProfilePhoto.react"),{shape:"circle",size:40,source:{uri:d("LSMediaUrl.bs").Contact.profilePictureUrl(a)}}),content:i.jsx(c("MDSTextPairing.react"),{body:b!==void 0&&g?b:null,headline:a.name,level:4}),onPress:function(b){if(m){n(c("bs_int64").to_string(a.id),!1);return c("bs_curry")._1(e)}if(k==null)return;b=c("bs_curry")._1(j.buildURL,{thread_key:c("bs_int64").to_string(a.id)});k.go(b)},selected:c("bs_caml_obj").caml_equal(a.id,f),size:"medium"},c("bs_int64").to_string(a.id))},c("bs_int64").to_string(a.id))})]})]})}a.displayName=a.name+" [from "+f.id+"]";b=j;e=a;g.itemRouteBuilder=j;g.ItemRouteBuilder=b;g.make=e}),98);
__d("TetraRestrictedAccountsListIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return d("fbicon")._(h("483773"),24)}function b(a){return{color:"gray",disabled:!1,icon:d("fbicon")._(h("483773"),24),shape:"circle",size:40,type:"contained-icon"}}c={toMWIcon:a,toPrimaryAddOn:b};g.Plus=c}),98);
__d("MessageRequestsBulkActionsButtons.bs",["fbt","FocusRegion.react","LS.bs","LSOptimisticDeleteThread","LSOptimisticMarkThreadReadV2","LsMessageRequestsActions.bs","LsMessageRequestsEntryPoint.bs","LsSystemFolder.bs","MessageRequestsBulkActionsContext.react","MessageRequestsLog.bs","ReQL.bs","ServerTime","TetraButtonGroup.react","bs_caml_format","bs_caml_int64","bs_curry","focusScopeQueries","promiseDone","react","useCometConfirmationDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a,b){return i.useCallback(function(b){b.forEach(function(b){var e=c("bs_caml_format").caml_int64_of_string(b);c("promiseDone")(a.runInTransaction(function(b){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:e,tl:0})).then(function(a){return c("LSOptimisticMarkThreadReadV2")(e,c("bs_caml_int64").of_float(d("ServerTime").getMillis()),d("LS.bs").make(b))})},"readwrite"))})},[b,a])}function k(a,b){return i.useCallback(function(b){b.forEach(function(b){var e=c("bs_caml_format").caml_int64_of_string(b);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticDeleteThread")(e,d("LS.bs").make(a))},"readwrite"))})},[b,a])}function a(a){a=a.entryPoint;var b=a!==void 0?a:"messageRequests";a=i.useContext(c("MessageRequestsBulkActionsContext.react"));var e=a.setIsBulkActionsEditMode,f=a.bulkActionsUnreadSelectedThreads,g=a.bulkActionsSelectedThreads,l=c("useReStore")(),m=j(l,g),n=k(l,g),o=c("useCometConfirmationDialog")();l=i.useCallback(function(a){c("bs_curry")._1(m,g);c("bs_curry")._1(e,!1);return d("MessageRequestsLog.bs").logMessageRequestsBulkActionTapped(c("bs_caml_int64").to_int32(d("LsMessageRequestsEntryPoint.bs").settings),g.size,f.size,c("bs_caml_int64").to_int32(d("LsMessageRequestsActions.bs").bulkMarkAsRead),b==="spam"?c("bs_caml_int64").to_int32(d("LsSystemFolder.bs").spam):c("bs_caml_int64").to_int32(d("LsSystemFolder.bs").pending))});var p=i.useCallback(function(a){d("MessageRequestsLog.bs").logMessageRequestsBulkActionTapped(c("bs_caml_int64").to_int32(d("LsMessageRequestsEntryPoint.bs").settings),g.size,f.size,c("bs_caml_int64").to_int32(d("LsMessageRequestsActions.bs").bulkDelete),b==="spam"?c("bs_caml_int64").to_int32(d("LsSystemFolder.bs").spam):c("bs_caml_int64").to_int32(d("LsSystemFolder.bs").pending));return c("bs_curry")._3(o,{body:g.size===1?h._("__JHASH__MLd3xbTafSI__JHASH__"):h._("__JHASH__sZbvz5cEYff__JHASH__"),confirm:h._("__JHASH___y3IAprClSl__JHASH__"),title:g.size===1?h._("__JHASH__zdCU4WfWx_J__JHASH__"):h._("__JHASH__6Kbu-lnpMhp__JHASH__",[h._param("Number of selected threads",String(g.size))])},function(a){c("bs_curry")._1(n,g);c("bs_curry")._1(e,!1);d("FocusRegion.react").focusRegionById("mwb-jewel-bulk-actions-edit-button",d("focusScopeQueries").tabbableScopeQuery);return d("MessageRequestsLog.bs").logMessageRequestsBulkActionConfirmed(c("bs_caml_int64").to_int32(d("LsMessageRequestsEntryPoint.bs").settings),g.size,f.size,c("bs_caml_int64").to_int32(d("LsMessageRequestsActions.bs").bulkDelete),b==="spam"?c("bs_caml_int64").to_int32(d("LsSystemFolder.bs").spam):c("bs_caml_int64").to_int32(d("LsSystemFolder.bs").pending))},function(a){})});return i.jsx("div",{className:a.isBulkActionsEditMode?"xsag5q8":"x1s85apg",id:b==="spam"?"spam-bulk-actions-buttons":"message-requests-bulk-actions-buttons",children:i.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,children:i.jsx(c("TetraButtonGroup.react"),{align:"justify",direction:"forward",primary:{disabled:g.size===0||f.size===0,label:h._("__JHASH__pC0i0CAW1ov__JHASH__").toString(),onPress:l,testid:b==="spam"?"spam-bulk-mark-as-read-button":"message-requests-bulk-mark-as-read-button",type:"secondary"},secondary:{disabled:g.size===0,label:h._("__JHASH___y3IAprClSl__JHASH__"),onPress:p,testid:b==="spam"?"spam-bulk-delete-button":"message-requests-bulk-delete-button"}})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWChatContacts.react",["fbt","CometHomeContactsConfig","CometHomeContactsPresenceAwareList.react","MWChatContact.react","MWChatContactsQuery.graphql","RelayHooks","TetraText.react","WebPixelRatio","react","recoverableViolation","useMWChatOpenTabForUser"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");function a(a){var e,f=a.entryPoint,g=a.preventLocalNavigation,k=a.selectedThreadKey;a=a.showCount;a=a===void 0?!1:a;var l=d("RelayHooks").useLazyLoadQuery(i!==void 0?i:i=b("MWChatContactsQuery.graphql"),{numContactsToFetch:c("CometHomeContactsConfig").numContactsToFetch,scale:d("WebPixelRatio").get()});l=l==null?void 0:l.viewer;e=(e=l==null?void 0:l.chat_sidebar_contacts)!=null?e:[];var m=c("useMWChatOpenTabForUser")(f),n=m[0];m[1];if(l==null){c("recoverableViolation")("Viewer is null so we're unable to render the contact list container","messenger_web_product");return null}var o=(l==null?void 0:l.chat_visibility)===!0;m=e.filter(function(a){return(a==null?void 0:a.id)!=null&&a.availability==="ACTIVE"});l=m.slice(0,c("CometHomeContactsConfig").numContactsToFetch).map(function(a){var b=j.jsx(c("MWChatContact.react"),{activeStatusOn:o,entryPoint:f,openTabForUser:n,preventLocalNavigation:g,profile:a,selected:k!=null&&k===a.id});return j.jsx("li",{children:b},a.id)});return j.jsxs(j.Fragment,{children:[a?j.jsx(c("TetraText.react"),{color:"secondary",type:"body4",children:j.jsx("div",{className:"x1k70j0n x11i5rnm xzueoph x1mh8g0r xz9dl7a x14uny0o xsag5q8 xvpee5o",children:h._("__JHASH__l4ieECdAmM7__JHASH__",[h._param("active count",l.length)])})}):null,j.jsx(c("CometHomeContactsPresenceAwareList.react"),{active:o,children:l})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatContactsContainer.react",["cr:3568","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var c=a.entryPoint||"unknown";return h.jsx(b("cr:3568"),babelHelpers["extends"]({},a,{entryPoint:c}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerThreadlistFooterOpenInAppLink.bs",["fbt","ix","Actor","CometPressable.react","MDSRow.react","MDSRowItem.react","MWIcon.react","MWText.react","MessengerDesktopDeeplinkEventFalcoEvent","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","bs_caml_option","fbicon","react","uuid"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={button:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},content:{"@media (max-width: 900px)_display":"xzd29fr",$$css:!0},icon:{marginEnd:"x1w0mnb",$$css:!0},root:{boxShadow:"xb756pt",minHeight:"xt55aet",paddingTop:"xexx8yu",paddingEnd:"xc73u3c",paddingBottom:"x18d9i69",paddingStart:"x5ib6vp",":hover_textDecoration":"x1lku1pv","@media (max-width: 900px)_width":"x12nzpgo",$$css:!0}};function a(a){a=d("Actor").useActor();a=a[0];var b=j.useRef(!1),e=j.useRef(c("uuid")()).current;j.useEffect(function(){b.current||(b.current=!0,c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(a){return{event:"messenger_threadlist_open_in_app_impression",eventLocation:"browser",eventType:"thread",funnelSessionId:e,mobile_app_source:"unknown"}}))});a=c("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri({funnel_session_id:e,id:c("bs_caml_option").some(a),origin:"MSG",thread:void 0}).setDomain("www.messenger.com").setProtocol("https").toString();var f=j.useCallback(function(a){c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(a){return{event:"messenger_threadlist_open_in_app_click",eventLocation:"browser",eventType:"thread",funnelSessionId:e,mobile_app_source:"unknown"}})},[]),g=h._("__JHASH__-bMlxmUjLoT__JHASH__");return j.jsx(c("MDSRow.react"),{expanding:!0,paddingHorizontal:8,paddingVertical:8,spacing:0,verticalAlign:"center",xstyle:[k.root],children:j.jsx(c("MDSRowItem.react"),{expanding:!0,children:j.jsx(c("CometPressable.react"),{"aria-label":g,expanding:!0,linkProps:{target:"_blank",url:a},onPress:f,overlayOffset:10,overlayRadius:6,children:j.jsxs("div",{className:"x6s0dn4 x78zum5 xl56j7k",children:[j.jsx("span",{className:"x1w0mnb",children:j.jsx(c("MWIcon.react"),{color:"primary",icon:d("fbicon")._(i("505620"),20)})}),j.jsx("span",{className:"xzd29fr",children:j.jsx(c("MWText.react"),{align:"center",type:"bodyLink3",children:g.toString()})})]})})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWCMBlendedThreadListLazy.bs",["BootloaderResource","JSResource","bs_caml_option","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("JSResource")("MWCMBlendedThreadList.react").__setRef("MWCMBlendedThreadListLazy.bs");function j(a,b,d,e,f,g,h,i,j){j={gridLabel:a,lsEntryPoint:d,messagingEntrypoint:e,responsive:g,setHasScrolled:i};b!==void 0&&(j.header=c("bs_caml_option").valFromOption(b));f!==void 0&&(j.onClose=c("bs_caml_option").valFromOption(f));h!==void 0&&(j.selectedThreadKey=h);return j}function k(a){return h.createElement(d("BootloaderResource").read(i),a)}function a(a){var b=a.gridLabel,c=a.header,d=a.lsEntryPoint,e=a.messagingEntrypoint,f=a.onClose,g=a.responsive,i=a.selectedThreadKey;a=a.setHasScrolled;return h.jsx(k,j(b,c,d,e,f,g,i,a))}b=a;g.make=b}),98);
__d("MWInboxContextSwitcherDeferred.react",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWInboxContextSwitcherCond.react").__setRef("MWInboxContextSwitcherDeferred.react"));function a(a){return h.jsx(i,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxLeftRailHeader.bs",["cr:1774123"],(function(a,b,c,d,e,f,g){"use strict";g.$MWMDSInboxLeftRailHeader$OR$MWTetraInboxLeftRailHeader$requireCond=b("cr:1774123"),g.make=b("cr:1774123").make}),98);
__d("MWInboxMessageRequestsRoot.bs",["BootloaderResource","CometHeroInteractionWithDiv.react","JSResource","LsSystemFolder.bs","MessageRequestsBulkActionsButtons.bs","MessageRequestsBulkActionsContextProvider.react","bs_caml_option","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("JSResource")("MAWRequestAndSpamThreadListPage.bs").__setRef("MWInboxMessageRequestsRoot.bs");function j(a,b,d,e,f){f={entryPoint:d,parentThreadKey:b};a!==void 0&&(f.hidePage=c("bs_caml_option").valFromOption(a));e!==void 0&&(f.showBackButton=c("bs_caml_option").valFromOption(e));return f}function k(a){return h.createElement(d("BootloaderResource").read(i).make,a)}b={make:k,makeProps:j,reasonResource:i};var l={container:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){var b=a.hidePage;a=a.interactionID;a=a!==void 0?a:"";return h.jsxs(c("MessageRequestsBulkActionsContextProvider.react"),{children:[h.jsx(c("CometHeroInteractionWithDiv.react"),{excludeFromMainVC:!0,interactionDesc:"FETCH_MESSAGE_REQUESTS",interactionUUID:a,pageletName:"MessageRequestsThreadList",xstyle:l.container,children:h.jsx(k,j(b,d("LsSystemFolder.bs").pending,"inboxPendingRequests"))}),h.jsx(d("MessageRequestsBulkActionsButtons.bs").make,{})]})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.LazyMAWRequestAndSpamThreadListPage=b;g.make=e}),98);
__d("MWInboxLeftRail.bs",["fbt","CometErrorBoundary.react","CometHeroInteractionWithDiv.react","CometMessagingJewelDropdownQPBannerContainer.entrypoint","CometPagelet.react","CometPlaceholder.react","CometRelay","CometRouteParams","CometScrollView.react","CometTransientDialogProvider.react","InteractionTracing","LS.bs","LSClearMessageSearchTable","LSClearTables","LSIssueMessageSearchQuery","LSMessageSearchType.bs","Locale","LsSystemFolder.bs","MWCMBlendedThreadListLazy.bs","MWChatContactsContainer.react","MWInboxActiveNowTrayContainer.react","MWInboxContextSwitcherDeferred.react","MWInboxContextSwitcherGlimmer.react","MWInboxLeftRailContentPlaceholder.react","MWInboxLeftRailHeader.bs","MWInboxLeftRailSearch.bs","MWInboxMessageRequestsRoot.bs","MWInboxNavigationHeaderWithBackButton.bs","MWInboxQuickPromotionWrapper.react","MWInboxSelectedThread.bs","MWLSJewelLoadMoreThreads.bs","MWLeftRailComponent.react","MWMessageSearchResults.bs","MWPActor.bs","MWQuickPromotionThreadlistBannerContainer.react","MWRestrictedAccountsList.bs","MWText.react","MWThreadList.bs","MWThreadListNewMessage.bs","MWThreadListNewMessageState.bs","MessageRequestsBulkActionsContext.react","MessengerThreadlistFooterDesktopAppLink.bs","MessengerThreadlistFooterDesktopAppLinkV2.bs","MessengerThreadlistFooterOpenInAppLink.bs","Promise","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","bs_int64","cr:1047","cr:4097","cr:4383","cr:4699","gkx","promiseDone","qex","qpl","react","recoverableViolation","requestAnimationFrame","stylex","useCometRelayEntrypointContextualEnvironmentProvider","useCurrentRoute","useDebounced","useMWPClearConversationSearch","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=b("Locale").isRTL(),l={contextSwitcherGlimmer:{display:"x78zum5",minHeight:"xu0aao5",paddingStart:"xkhd6sd",paddingEnd:"x4uap5",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",width:"x3bhodz",$$css:!0},header:{"@media (max-width: 900px)_display":"xzd29fr",$$css:!0},infoBox:{marginTop:"x1k70j0n",marginEnd:"x11i5rnm",marginBottom:"xzueoph",marginStart:"x1mh8g0r",paddingTop:"xz9dl7a",paddingEnd:"x14uny0o",paddingBottom:"xsag5q8",paddingStart:"xvpee5o",$$css:!0},messageRequestsBulkActionsButtons:{boxShadow:"xb756pt",$$css:!0},messageRequestsContainer:{display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",$$css:!0},page:{display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",opacity:"xg01cxk",position:"x10l6tqk",transitionDuration:"x1k90msu",transitionProperty:"x6o7n8i",transitionTimingFunction:"x1qfuztq",width:"xh8yej3",$$css:!0},pageHidden:{visibility:"xlshs6z",$$css:!0},pageVisible:{opacity:"x1hc1fzr",$$css:!0},progressSpinnerPostition:{bottom:"x1ey2m1c",display:"x1lliihq",gap:"x1v2ro7d",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",position:"x10l6tqk",radius:"x1jhagro",zIndex:"x1muucdh",$$css:!0},root:{backgroundColor:"x2bj2ny",borderEnd:"xycxndf",height:"x5yr21d",minHeight:"x1t2pt76",outline:"x1a2a7pz",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0},rootWithAnimations:{transform:"xzhk7wv",transitionDuration:"x1k90msu",transitionProperty:"x1xw1sup",transitionTimingFunction:"x1qfuztq",$$css:!0},threadListPagelet:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},m=b("cr:4097")==null?void 0:b("bs_caml_option").some(b("cr:4097"));function n(a){var c=a.entryPoint,d=a.hidePage,e=a.info,f=a.parentThreadKey;a=a.title;var g=b("MWInboxSelectedThread.bs").useHook(),h=j.useContext(b("MessageRequestsBulkActionsContext.react")),i=h.setIsBulkActionsEditMode;j.useEffect(function(){b("bs_curry")._1(i,!1)},[d]);h={gridLabel:a,lsEntryPoint:c,onOpenMessageRequests:void 0,parentThreadKey:f,responsive:!0,threadListMessagingEntrypoint:"inbox"};g!==void 0&&(h.selectedThreadKey=g);return j.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[j.jsx(b("MWInboxNavigationHeaderWithBackButton.bs").make,{title:a,onReturn:d,entryPoint:c}),e!==void 0?j.jsx("div",{className:"x1k70j0n x11i5rnm xzueoph x1mh8g0r xz9dl7a x14uny0o xsag5q8 xvpee5o",children:j.jsx(b("MWText.react"),{color:"secondary",type:"body4",children:b("bs_caml_option").valFromOption(e)})}):null,j.jsx(b("MWThreadList.bs").make,babelHelpers["extends"]({},h))]})}n.displayName=n.name+" [from "+e.id+"]";c={make:n};function o(a){a=a.hidePage;return j.jsx(n,{entryPoint:"inboxFolder",hidePage:a,parentThreadKey:b("LsSystemFolder.bs").mplace,title:g._("__JHASH__Yxm-6KVT3xg__JHASH__")})}o.displayName=o.name+" [from "+e.id+"]";d={make:o};function p(a){a=a.hidePage;return j.jsx(n,{entryPoint:"inboxFolder",hidePage:a,parentThreadKey:b("LsSystemFolder.bs").jobs,title:g._("__JHASH__yJarfmqcRDP__JHASH__")})}p.displayName=p.name+" [from "+e.id+"]";var q={make:p};function r(a){var c=a.hidePage;a=a.interactionID;return j.jsx(b("MWInboxMessageRequestsRoot.bs").make,{hidePage:c,interactionID:a})}r.displayName=r.name+" [from "+e.id+"]";var s={make:r};function t(a){a=a.hidePage;var c=b("MWInboxSelectedThread.bs").useHook();return j.jsx(b("MWRestrictedAccountsList.bs").make,{hidePage:a,onClose:function(a){},selectedThreadKey:c})}t.displayName=t.name+" [from "+e.id+"]";var u={make:t};function v(a){a=a.hidePage;return j.jsx(n,{entryPoint:"inboxArchived",hidePage:a,parentThreadKey:b("LsSystemFolder.bs").archived,title:g._("__JHASH__wbEJL9Ldexb__JHASH__")})}v.displayName=v.name+" [from "+e.id+"]";var w={make:v};function x(a){a=a.hidePage;var c=b("MWInboxSelectedThread.bs").useHook(),d={entryPoint:"inboxActiveContacts",preventLocalNavigation:!1,showCount:!0};c=b("bs_belt_Option").map(c,b("bs_int64").to_string);c!==void 0&&(d.selectedThreadKey=c);return j.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[j.jsx(b("MWInboxNavigationHeaderWithBackButton.bs").make,{onReturn:a,title:g._("__JHASH__B69jIWeR9nM__JHASH__")}),j.jsx(b("MWChatContactsContainer.react"),babelHelpers["extends"]({},d))]})}x.displayName=x.name+" [from "+e.id+"]";var y={make:x};function z(a){var c=a.hidePage,d=a.query;a=a.setIsConversationSearchVisible;var e=b("useReStore")(),f=b("MWInboxSelectedThread.bs").useHook(),g=j.useRef(!1),h=b("useMWPClearConversationSearch")();e=j.useCallback(function(a){if(!g.current){g.current=!0;b("bs_curry")._1(h);return b("bs_curry")._1(c)}},[e,c]);return j.jsx(b("MWMessageSearchResults.bs").make,{clearSearchResultsAndHidePage:e,query:d,selectedThreadKey:f,setIsConversationSearchVisible:a})}z.displayName=z.name+" [from "+e.id+"]";var A={make:z},B={},C=b("cr:4383")==null?function(a){}:b("cr:4383").useHook;function a(a){var c=a.setIsConversationSearchVisible,d=b("MWPActor.bs").useActor(),e=b("MWLSJewelLoadMoreThreads.bs").useHook(b("LsSystemFolder.bs").archived),f=b("MWInboxSelectedThread.bs").useHook();a=j.useState(function(){return!1});var h=a[1],n=a[0];a=j.useState(function(){return[]});var q=a[1];a=a[0];var s=j.useState(function(){return 0}),u=s[1],w=s[0];s=j.useState(function(){return""});var y=s[1],A=s[0];s=j.useCallback(function(a){return b("bs_curry")._1(h,function(a){return!1})},[]);var B=b("useReStore")(),D=b("useDebounced")(j.useCallback(function(a){b("requestAnimationFrame")(function(c){b("bs_curry")._1(h,function(a){return!0});return b("bs_curry")._1(u,function(c){b("bs_curry")._1(q,function(b){return b.slice(0,c).concat([a])});return c+1|0})})},[h,u,q]),350,!0),E=j.useCallback(function(a){b("requestAnimationFrame")(function(a){if(w<1){b("recoverableViolation")("Attempting to close a page that does not exist anymore.","messenger_comet");return}else{b("bs_curry")._1(h,function(a){return!0});return b("bs_curry")._1(u,function(a){return a-1|0})}})},[a,w,h,u]),F=j.useCallback(function(a){a=b("qpl")._(30607516,"756");a={interactionClass:"fast",qplEvent:a,tracePolicy:"comet.messenger.message_requests",traceType:"INTERACTION"};var c=b("InteractionTracing").startInteraction(a);b("bs_curry")._1(y,function(a){return c});return b("bs_curry")._1(D,r)},[D]),G=j.useCallback(function(a){return b("bs_curry")._1(D,t)},[D]),H=j.useCallback(function(a){if(b("bs_caml").i64_eq(a,b("LsSystemFolder.bs").jobs))return b("bs_curry")._1(D,p);else if(b("bs_caml").i64_eq(a,b("LsSystemFolder.bs").mplace))return b("bs_curry")._1(D,o);else{b("recoverableViolation")("Attempted to show an unimplemented nested system folder","messenger_web_product");return}},[D]),I=j.useCallback(function(a){e();return b("bs_curry")._1(D,v)},[e,D]),J=j.useCallback(function(a){return b("bs_curry")._1(D,x)},[D]),K=b("bs_curry")._1(C,D),L=j.useCallback(function(a){b("promiseDone")(B.runInTransaction(function(c){var d=b("LS.bs").make(c);return b("LSClearTables")(d).then(function(c){return b("LSIssueMessageSearchQuery")(a,b("LSMessageSearchType.bs").thread,void 0,void 0,d)})},"readwrite").then(function(c){if(b("cr:1047")==null)return b("Promise").resolve();else return b("bs_curry")._3(b("cr:1047").searchSecureDatabaseThreads,a,d,B)}),function(d){return b("bs_curry")._1(D,function(b){return z({hidePage:b.hidePage,query:a,setIsConversationSearchVisible:c})})},function(a){b("recoverableViolation")("Error performing search","messenger_web_product",{error:a.Error})})},[B,f,D,c,d]);j.useEffect(function(){return function(a){b("promiseDone")(B.runInTransaction(function(a){return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").thread,b("LS.bs").make(a))},"readwrite"))}},[B]);var M=j.useContext(b("MWThreadListNewMessageState.bs").context),N=M.isActive?j.jsx(b("MWThreadListNewMessage.bs").make,{entries:M.entries}):null;M=j.useMemo(function(){return j.jsx(b("MWInboxLeftRailHeader.bs").make,{showActiveContacts:J,showHidden:I,showMessageRequests:F,showRestrictedAccounts:G,xstyle:b("bs_caml_option").some(l.header)})},[F,I,J,G]);var O=b("CometRouteParams").useRouteParams(),P=O.folder_id;O=j.useState(function(){if(P==null)return b("LsSystemFolder.bs").inbox;else return b("LsSystemFolder.bs").community});var Q=O[1],R=O[0],S=j.useRef();O=b("useCometRelayEntrypointContextualEnvironmentProvider")();S.current===void 0&&b("bs_caml").i64_eq(R,b("LsSystemFolder.bs").community)&&(S.current=b("bs_caml_option").some(b("CometRelay").loadEntryPoint(O,b("CometMessagingJewelDropdownQPBannerContainer.entrypoint"),{})));j.useEffect(function(){return function(a){a=S.current;if(a!==void 0)return b("bs_curry")._1(b("bs_caml_option").valFromOption(a).dispose)}},[]);var T=j.useRef("");j.useEffect(function(){T.current=b("bs_caml").i64_eq(R,b("LsSystemFolder.bs").community)?b("InteractionTracing").startInteraction({interactionClass:"fast",qplEvent:b("qpl")._(30620417,"938"),tracePolicy:"comet.messenger.inbox.communities",traceType:"INTERACTION"}):""},[R]);var aa=b("gkx")("6975")?j.jsx(b("CometPlaceholder.react"),{fallback:j.jsx(b("MWInboxContextSwitcherGlimmer.react"),{xstyle:l.contextSwitcherGlimmer}),children:j.jsx(b("MWInboxContextSwitcherDeferred.react"),{entryPoint:"inbox",onTabChange:function(a){return Q(a)},selectedFolderTab:R})}):null;O=j.useMemo(function(){var a={searchMessagesClicked:L,testid:"mw-search-bar"},c=K!==void 0?function(a){b("bs_curry")._1(K,a)}:void 0;c!==void 0&&(a.onSelectFreeformQuery=b("bs_caml_option").valFromOption(c));return j.jsxs(j.Fragment,{children:[j.jsx(b("MWInboxLeftRailSearch.bs").make,babelHelpers["extends"]({},a)),aa]})},[L,R,K]);var ba=j.jsx(b("MWInboxQuickPromotionWrapper.react"),{onError:function(a){},children:j.jsx(b("MWQuickPromotionThreadlistBannerContainer.react"),{})}),U=j.useCallback(function(a){},[]),V=g._("__JHASH__UqCAjgG6ioY__JHASH__"),W=j.useState(function(){return!1}),X=W[1],ca=j.useMemo(function(){var a=j.jsx(b("MWInboxActiveNowTrayContainer.react"),{}),c=b("gkx")("6975"),d,e=0;if(c&&b("bs_caml").i64_eq(R,b("LsSystemFolder.bs").community)){c=S.current;c={gridLabel:V,header:j.jsxs(j.Fragment,{children:[a,j.jsx(b("CometErrorBoundary.react"),{children:j.jsx(b("CometPlaceholder.react"),{fallback:null,children:c!==void 0?j.jsx(b("CometRelay").EntryPointContainer,{entryPointReference:b("bs_caml_option").valFromOption(c),props:{}}):null})})]}),lsEntryPoint:"inboxThreadList",messagingEntrypoint:"inbox",responsive:!0,setHasScrolled:X};f!==void 0&&(c.selectedThreadKey=f);d=j.jsx(b("MWCMBlendedThreadListLazy.bs").make,babelHelpers["extends"]({},c))}else e=1;if(e===1)if(b("cr:4699")==null){c={gridLabel:V,header:a,lsEntryPoint:"inboxThreadList",onClickNestedFolderThread:H,onClose:U,onOpenMessageRequests:void 0,parentThreadKey:R,preamble:N,responsive:!0,setHasScrolled:X,threadListMessagingEntrypoint:"inbox"};f!==void 0&&(c.selectedThreadKey=f);d=j.jsx(b("MWThreadList.bs").make,babelHelpers["extends"]({},c))}else{e={gridLabel:V,header:a,lsEntryPoint:"inboxThreadList",onClickNestedFolderThread:H,onClose:U,onOpenMessageRequests:void 0,parentThreadKey:R,preamble:N,responsive:!0,setHasScrolled:X,threadListMessagingEntrypoint:"inbox"};f!==void 0&&(e.selectedThreadKey=f);d=j.jsx(b("CometErrorBoundary.react"),{fallback:function(){return j.jsx(b("cr:4699"),{parentThreadKey:R})},children:j.jsx(b("MWThreadList.bs").make,babelHelpers["extends"]({},e))})}return j.jsx(b("CometPagelet.react").Placeholder,{className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d x6ikm8r x10wlt62",fallback:j.jsx(b("MWInboxLeftRailContentPlaceholder.react"),{}),name:"MWThreadList",children:d})},[N,f,H,R]),Y;if(b("qex")._("940")===!0)Y=R===b("LsSystemFolder.bs").community?null:j.jsx(b("MessengerThreadlistFooterDesktopAppLinkV2.bs").make,{});else{var Z=R===b("LsSystemFolder.bs").community,da=b("gkx")("1817606"),ea=b("gkx")("1732");Y=Z?null:da?j.jsx(b("MessengerThreadlistFooterDesktopAppLink.bs").make,{}):ea?j.jsx(b("MessengerThreadlistFooterOpenInAppLink.bs").make,{}):null}Z=j.jsxs(b("CometHeroInteractionWithDiv.react"),{interactionDesc:"CommunitiesTabOnInbox",interactionUUID:T.current,children:[j.jsx("div",{className:(i||(i=b("stylex")))(l.page,!n&&w!==0?l.pageHidden:!1,w===0?l.pageVisible:!1),style:{transform:"translateX("+(String(Math.imul(k?1:-1,w))+"00%) translateZ(1px)")},children:j.jsx(b("MWLeftRailComponent.react"),{footer:Y,hasScrolled:W[0],header:M,preamble:ba,primaryNav:ca,search:O})}),a.map(function(a,c){return j.jsx("div",{className:(i||(i=b("stylex")))(l.page,!n&&w!==(c+1|0)?l.pageHidden:!1,w===(c+1|0)?l.pageVisible:!1),style:{transform:"translateX("+(String(Math.imul(k?1:-1,(w-c|0)-1|0))+"00%) translateZ(1px)")},children:j.createElement(a,{hidePage:E,interactionID:A,pushPage:D})},String(c))})]});var $=b("useCurrentRoute")();j.useEffect(function(){!($==null)&&($.url==="/messages/requests"||$.url==="/messages/filtered")&&b("bs_curry")._1(F)},[$]);return j.jsx(b("CometTransientDialogProvider.react"),{children:j.jsx("div",{className:i(l.root,n?l.rootWithAnimations:!1),onTransitionEnd:s,children:b("cr:4097")==null?Z:j.jsx(m.make,{activeIndex:w,children:Z})})})}a.displayName=a.name+" [from "+e.id+"]";e=b("cr:1047");a=a;f.styles=l;f.$MWThreadListKeyCommandContext$OR$null$requireCond=b("cr:4097");f.$MWInboxSecureContentSearch$requireCond=b("cr:1047");f.mWInboxSecureContentSearch=e;f.ThreadListPage=c;f.Marketplace=d;f.Jobs=q;f.MessageRequests=s;f.RestrictedAccounts=u;f.Hidden=w;f.ActiveContacts=y;f.ThreadSearchResults=A;f.MWInboxLeftRailContentPlaceholder=B;f.$UseMWLeftRailFullSearch$OR$null$requireCond=b("cr:4383");f.useMWLeftRailFullSearch=C;f.make=a}),null);
__d("MWInboxLeftRailHeaderAuxiliary.bs",["fbt","MWInboxLeftRailHeaderIcons.bs","MWInboxRouteBuilder.bs","MWInboxSettingsMenuButton.bs","MWPSearchSystem.bs","MeetupExperiments","MessengerLSCreateVideoCallLink.react","TetraCircleButton.react","bs_caml_option","bs_curry","react","useCometPreloader","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("bs_curry")._1(d("MWInboxRouteBuilder.bs").buildNewThreadURL,{});b={make:c("MessengerLSCreateVideoCallLink.react")};function k(a){}function a(a){var b=a.showActiveContacts,e=a.showHidden,f=a.showMessageRequests;a=a.showRestrictedAccounts;var g=c("useReStore")(),l=i.useCallback(function(a){return d("MWPSearchSystem.bs").makeAll(g)},[g]),m=c("useCometPreloader")("button_aggressive",k,l);return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"x16n37ib",children:i.jsx(d("MWInboxSettingsMenuButton.bs").make,{showActiveContacts:b,showHidden:e,showMessageRequests:f,showRestrictedAccounts:a,children:function(a,b){return i.jsx(c("TetraCircleButton.react"),{color:"primary",icon:d("MWInboxLeftRailHeaderIcons.bs").Settings.icon,label:h._("__JHASH__WT3u01jgr7W__JHASH__"),onPress:function(a){return c("bs_curry")._1(b)},ref:a,size:36,testid:void 0})}})}),d("MeetupExperiments").supportLinkCreation()?i.jsx("div",{className:"x16n37ib",children:i.jsx(c("MessengerLSCreateVideoCallLink.react"),{children:function(a){var b=a.ref,d={color:"primary",icon:a.icon,label:a.label,onPress:function(b){return c("bs_curry")._1(a.onPress)},size:36};b=b!==void 0?c("bs_caml_option").some(b):void 0;b!==void 0&&(d.ref=c("bs_caml_option").valFromOption(b));a.testid!==void 0&&(d.testid=a.testid);return i.jsx(c("TetraCircleButton.react"),babelHelpers["extends"]({},d))}})}):null,i.jsx("div",{className:"x16n37ib",children:i.jsx(c("TetraCircleButton.react"),{color:"primary",icon:d("MWInboxLeftRailHeaderIcons.bs").Compose.icon,label:h._("__JHASH__uhF6__U4Uqu__JHASH__"),linkProps:{url:j},onFocusIn:function(a){return c("bs_curry")._1(l)},onHoverIn:m[0],onHoverOut:m[1],size:36,testid:void 0})})]})}e=a;g.newThreadUrl=j;g.MessengerLSCreateVideoCallLink=b;g.emptyFunc=k;g.make=e}),98);
__d("MWUseGlobalMuteUntil.bs",["ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useReStore")();return c("bs_belt_Option").mapWithDefault(d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").fromTableAscending(b.table("notification_settings"))},[b])),c("bs_caml_int64").zero,function(a){return a.globalMuteUntil})}g.useGlobalMuteUntil=a}),98);
__d("MWInboxRoot.bs",["fbt","BaseHeadingContext","BaseRow.react","BaseRowItem.react","CometLeftRailLayoutContext","CometLeftRailPrimaryContext","CometPlaceholder.react","CometRouterFocusRegion.react","CurrentEnvironment","FBID.bs","LS.bs","LSClearMessageSearchTable","LSMessageSearchType.bs","MWInboxLeftRail.bs","MWInboxMaster.bs","MWInboxProvider.bs","MWPActor.bs","MWPConversationSearchContext.react","MWPVisibleMessageContext.bs","MWSetupPresenceReportingDeferred.react","MWUseGlobalMuteUntil.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","cr:557","gkx","promiseDone","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("FBID.bs").ofStringExn,j=b("MWInboxProvider.bs").MWInboxProviderContext,k=h||(h=b("react"));c={};d={Provider:c};c={};c={Provider:c};var l={container:{display:"x78zum5",flexGrow:"x1iyjqo2",minHeight:"x1t2pt76",position:"x1n2onr6",zIndex:"x1ja2u2z",$$css:!0},contentArea:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x1t2pt76",minWidth:"xeuugli",position:"x1n2onr6",zIndex:"x1ja2u2z",$$css:!0},leftRail:{flexShrink:"x2lah0s",minHeight:"x1t2pt76",overflowAnchor:"x1xzczws",width:"x1cvmir6",zIndex:"x1vjfegm","@media (max-width: 900px)_width":"x12nzpgo",$$css:!0},leftRailForMessengerDotCom:{"@media (max-width: 900px)_width":"x1j71cr1",$$css:!0},mainContent:{display:"x78zum5",minHeight:"x1t2pt76",$$css:!0}};function m(a){var c=a.isConversationSearchVisible,d=a.setIsConversationSearchVisible,e=k.useContext(j);a=b("usePrevious")(e);var f=a==null?void 0:b("bs_caml_option").some(a),g=b("useReStore")(),h=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(g.table("message_search_queries")),{hd:b("LSMessageSearchType.bs").thread,tl:0})},[g])));k.useEffect(function(){!h&&b("bs_caml_obj").caml_notequal(e,f)&&(b("bs_curry")._1(d,function(a){return!1}),b("promiseDone")(g.runInTransaction(function(a){return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").message,b("LS.bs").make(a))},"readwrite")))},[e,h,g,d,f]);var l=b("MWPActor.bs").useActor(),m=b("MWUseGlobalMuteUntil.bs").useGlobalMuteUntil();k.useEffect(function(){!(b("cr:557")==null)&&b("CurrentEnvironment").messengerdotcom&&b("bs_curry")._2(b("cr:557").updateMute,i(b("bs_int64").to_string(l)),b("bs_caml_int64").to_float(m))},[l,JSON.stringify(m)]);a=k.useContext(b("BaseHeadingContext"));return k.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x1t2pt76 xeuugli x1n2onr6 x1ja2u2z",children:k.jsx(b("CometRouterFocusRegion.react"),{children:k.jsx(b("CometLeftRailLayoutContext").Provider,{value:!0,children:k.jsx(b("BaseHeadingContext").Provider,{children:k.jsx(b("MWInboxMaster.bs").make,{isConversationSearchVisible:c,setIsConversationSearchVisible:d}),value:a+1|0})})})})}m.displayName=m.name+" [from "+e.id+"]";e={make:m};function a(a){a=k.useState(function(){return!1});var c=a[1],d=k.useContext(j),e;switch(d==null?void 0:d.TAG){case 0:e="";break;case 10:d=d._0;e=d!==void 0&&d.TAG===0?g._("__JHASH__xW1zyGIHRCo__JHASH__"):"";break;default:e=""}d=k.jsx(b("MWPVisibleMessageContext.bs").Provider.make,{children:k.jsx(b("MWPConversationSearchContext.react").MWPConversationSearchContext,{children:k.jsx(b("BaseRow.react"),{align:"start",xstyle:[l.container],children:k.jsxs(b("CometLeftRailPrimaryContext").Provider,{value:!1,children:[k.jsx(b("BaseRowItem.react"),{"aria-label":"",role:"navigation",xstyle:[l.leftRail,b("CurrentEnvironment").messengerdotcom&&b("gkx")("571")?l.leftRailForMessengerDotCom:!1],children:k.jsx(b("MWInboxLeftRail.bs").make,{setIsConversationSearchVisible:c})}),k.jsx(b("BaseRowItem.react"),{"aria-label":e,expanding:!0,role:"main",xstyle:[l.mainContent],children:k.jsx(b("CometPlaceholder.react"),{fallback:null,children:k.jsx(m,{isConversationSearchVisible:a[0],setIsConversationSearchVisible:c})})})]})})})});return k.jsxs(k.Fragment,{children:[k.jsx(b("MWSetupPresenceReportingDeferred.react"),{}),d]})}a=a;f.CometLeftRailPrimaryContext=d;f.CometLeftRailLayoutContext=c;f.styles=l;f.$MessengerNotificationsWriter$requireCond=b("cr:557");f.Content=e;f.make=a}),null);
__d("MWLSInbox.react",["CometErrorBoundary.react","FBLogger","LSPlatformClientProviderWithDeferredLoadingStrategy.bs","LSPlatformConfig.re","LSPlatformMessengerConfig.bs","MWInbox.bs","MWInboxPlaceholder.react","MWInboxRoot.bs","cr:1619","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferred")("MWUncaughtErrorState.react").__setRef("MWLSInbox.react")),j=function(a){return h.jsx(i,{error:a})},k=function(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("uncaught exception in MWLSInbox. Error:"+a.message)};function a(a){var e=a.props.routeProps;a=a.queries;return h.jsxs(h.Fragment,{children:[h.jsx(c("CometErrorBoundary.react"),{fallback:j,onError:k,children:h.jsx(d("LSPlatformConfig.re").Provider_make,{config:d("LSPlatformMessengerConfig.bs").configEagerlyLoaded,children:h.jsx(d("LSPlatformClientProviderWithDeferredLoadingStrategy.bs").make,{placeholder:h.jsx(d("MWInboxPlaceholder.react").MWInboxPlaceholder,{}),children:h.jsx(d("MWInbox.bs").make,{queries:a,refParam:(a=e.ref_param)!=null?a:void 0,threadKey:(a=e.thread_key)!=null?a:void 0,children:h.jsx(d("MWInboxRoot.bs").make,{})})})})}),h.jsx(c("CometErrorBoundary.react"),{children:b("cr:1619")?h.jsx(b("cr:1619"),{}):null})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWTetraInboxLeftRailHeader.bs",["fbt","CometLeftRailHeader.react","MWInboxLeftRailHeaderAuxiliary.bs","bs_caml_option","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.showActiveContacts,e=a.showHidden,f=a.showMessageRequests,g=a.showRestrictedAccounts;a=a.xstyle;b={auxiliary:i.jsx(d("MWInboxLeftRailHeaderAuxiliary.bs").make,{showActiveContacts:b,showHidden:e,showMessageRequests:f,showRestrictedAccounts:g}),title:h._("__JHASH__UqCAjgG6ioY__JHASH__")};a!==void 0&&(b.xstyle=c("bs_caml_option").valFromOption(a));return i.jsx(c("CometLeftRailHeader.react"),babelHelpers["extends"]({},b))}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MessengerNotificationsWriter",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="mw_notifications_db",i="users_mute";function j(a,b){return{isMuted:b,userId:a}}function a(a,b){var d,e=self.indexedDB.open(h);e.onupgradeneeded=function(){var b=e.result,c=b.createObjectStore(i,{keyPath:"userId"});c.transaction.oncomplete=function(c){c=b.transaction(i,"readwrite").objectStore(i);c=c.add({isMuted:0,userId:a});c.onsuccess=function(){}}};e.onsuccess=function(){d=e.result;var f=d.transaction([i],"readwrite").objectStore(i),g=f.get(a);g.onerror=function(a){c("FBLogger")("messenger_writer").catching(a).mustfix("Failed to get value in db")};g.onsuccess=function(d){d=babelHelpers["extends"]({},d.target.result,j(a,b));d=f.put(d);d.onerror=function(a){c("FBLogger")("messenger_writer").catching(a).mustfix("Failed to write new mute value to db")};d.onsuccess=function(a){}}};e.onerror=function(a){c("FBLogger")("messenger_writer").catching(a).mustfix("Failed to create db")}}g.updateMute=a}),98);
__d("MessengerNotificationsWriter.bs",["MessengerNotificationsWriter"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){d("MessengerNotificationsWriter").updateMute(a,b)}g.updateMute=a}),98);